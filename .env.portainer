# ==============================================================================
# OpenMOHAA Stats API - PORTAINER DEPLOYMENT
# ==============================================================================
# Deploy via Portainer:
#   Repository: https://github.com/MOHCentral/opm-stats-api
#   Branch: refs/heads/main
#   Compose Path: docker-compose.yml
#   Environment Variables: Paste this file content
# ==============================================================================

# Compose Project Name
COMPOSE_PROJECT_NAME=opm-stats-api

# API Configuration
PORT=8080
WORKER_COUNT=8
WORKER_QUEUE_SIZE=50000
WORKER_BATCH_SIZE=1000
WORKER_FLUSH_INTERVAL=1s
JWT_SECRET=D~8k<hRN&uCvH14lv0=

# PostgreSQL (OLTP)
# Container names on opm-stats-network
POSTGRES_USER=mohaa
POSTGRES_PASSWORD=AvWq6gPAlSfbdpGH
POSTGRES_DB=mohaa_stats
POSTGRES_HOST=opm-stats-postgres
POSTGRES_PORT=5432
POSTGRES_URL=postgres://mohaa:AvWq6gPAlSfbdpGH@opm-stats-postgres:5432/mohaa_stats?sslmode=disable

# ClickHouse (OLAP)
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=AvWq6gPAlSfbdpGH
CLICKHOUSE_DB=mohaa_stats
CLICKHOUSE_HOST=opm-stats-clickhouse
CLICKHOUSE_PORT=9000
CLICKHOUSE_URL=clickhouse://opm-stats-clickhouse:9000/mohaa_stats?username=default&password=AvWq6gPAlSfbdpGH

# Redis
REDIS_HOST=opm-stats-redis
REDIS_PORT=6379
REDIS_URL=redis://opm-stats-redis:6379/0
